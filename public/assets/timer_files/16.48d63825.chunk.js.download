(this.webpackJsonprevv_new=this.webpackJsonprevv_new||[]).push([[16],{1224:function(e,t,a){"use strict";a.r(t),function(e,o){var i=a(65),n=a(66),s=a(70),c=a(67),r=a(68),l=a(3),p=a(279),d=a.n(p),m=a(284),u=a.n(m),h=a(292),y=a.n(h),C=a(314),b=a.n(C),g=a(15),_=a(25),O=a(69),f=(a(366),a(111)),j=a(439),v=a(16),S=a(134),I=a(0),M=a(2),L={width:"400px",maxWidth:"none",paddingTop:0},w=e(window).width()<480,A=[],P=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).__getFilteredCities=function(e){return g.a.filter((function(t,a,o){return!0===t[e.toLowerCase()]}))},n.__handleOpen=function(){n.setState({open:!0}),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100),Object(v.k)()},n.__selectCity=function(e,t,a){n.props.address!==t.cityName&&location.pathname.includes("open")&&(Object(v.Sc)("Home_differentCity_LT",{city:t.cityName},null,!0),Object(v.Sc)("Cityscreen_citytap_LT",{city_selected:t.cityName},null,!0));var i=Object(v.wb)();if(smartech("dispatch","WEB_CITY_SELECTION",{cityName:t.cityName}),Object(v.Sc)("Cityscreen_citytap",{city_selected:t&&t.cityName,refPage:location.pathname,refEvent:""}),t.cityName&&Object(v.e)(t.cityName.toLowerCase())){var s=sessionStorage.getItem("segmentForCityPopup");if(s){sessionStorage.setItem("openSegmentType",s);var c="Hatch"==s?"Hatchback":s;Object(v.D)("Open_Home_Page_Revv_Cars_At_Affordable_Price_Sticky_Widget_SeeAll",t.cityName,{carType:c})}}n.setState({selectedCity:t.cityName}),Object(v.Yc)(t),n.setState({selectedCityIndex:a}),n.props.selectLocation(t.cityName,t.coordinates.lat,t.coordinates.lng),n.props.getselectedTariffCity(t),n.props.onCitySelection&&n.props.onCitySelection(),n.props.getcity&&n.props.getcity(t,a),n.props.emptyGetGrapheneCarsAPI(),n.props.emptyGetLtuCarsAPI(),n.props.hideCityModal(),n.props.mandateCityPopup(!0);var r=new URLSearchParams(location.search),l=r.get("c_id"),p=r.has("c_id"),d=location.pathname.includes("buy-used-cars"),m=location.pathname.includes("open"),u=Object(v.Ab)().status,h=location.pathname.includes("stock"),y=location.pathname.includes("confirm"),C=location.pathname.includes("cars_pricing"),b=location.pathname.includes("by-price"),g=location.pathname.includes("cars"),_=location.pathname.includes("variant"),O=(location.pathname.includes("payment"),{serviceCityID:t.lt_id,ltType:1,appVersion:1}),f={serviceCityID:t.lt_id},j={serviceCityID:t.lt_id,ltType:2};j.availabilityVariant=1==Object(v.K)();var M=Object(v.gd)()?Object(v.gd)():{};if(j.oem=Object(v.Ab)().status?"Hyundai"===Object(v.Ab)().oem?"hyundai":Object(v.Ab)().oem:"",f.oem=Object(v.Ab)().status?Object(v.Ab)().oem:"",O.oem=Object(v.Ab)().status?Object(v.Ab)().oem:"",Object(v.bc)()){j.advertisementID=M.utm_medium?M.utm_medium:"",j.source=M.utm_source?M.utm_source:"",j.utm_details=M,n.props.getLtuCars(j);var L={serviceCityID:t.lt_id,ltType:2,oem:Object(v.Ab)().status?Object(v.Ab)().oem:""};o(i)||(L.customerID=i.customerID),n.props.getGrapheneLtuCarsMakeAndModel(L)}else if((m||m&&u)&&!h)if(C||b){if(b){var w=location.pathname.split("/")[location.pathname.split("/").length-1],A=w.split("-")[1],P=w.split("-")[0];P&&A&&(O.minPrice=P,O.maxPrice=A,f.minPrice=P,f.maxPrice=A)}o(i)||(O.customerID=i.customerID),Object(v.Ab)().status&&(O.oem=Object(v.Ab)().oem),n.props.getGrapheneCars(O)}else if(g&&_){var N=location.pathname.split("/")[location.pathname.split("/").length-2].replace("-"," ").toLowerCase();(x=location.pathname.split("/")[location.pathname.split("/").length-3].replace("-"," ").toLowerCase())&&(O.producer=x),N&&(O.modelName=N),u?(N&&(f.modelName=N),o(i)||(f.customerID=i.customerID),n.props.getHyundaiCarModelVariants(f)):n.props.getCarModelVariants(O)}else if(g){var x;N=location.pathname.split("/")[location.pathname.split("/").length-1].replace("-"," ").toLowerCase();(x=location.pathname.split("/")[location.pathname.split("/").length-2].replace("-"," ").toLowerCase())&&(O.producer=x),N&&(O.modelName=N),u?(N&&(f.modelName=N),o(i)||(f.customerID=i.customerID),n.props.getHyundaiCarModelVariants(f)):n.props.getCarModelVariants(O)}else if(y){var D={carModelID:l,ltServiceCityId:t.lt_id,oem:Object(v.Ab)().oem};u?o(i)||(f.customerID=i.customerID):n.props.getNewCarDetails(D)}else u?(f.oem=Object(v.Ab)().oem,o(i)||(f.customerID=i.customerID),"Mahindra"===Object(v.Ab)().oem?(n.props.getGrapheneCarsMakeAndModel(O),n.props.getGrapheneLtuCarsMakeAndModel(j)):n.props.hyundaiOpenCarModels(f)):n.props.getGrapheneLtuCarsMakeAndModel(j);else if(h)if(C||b||g)j.advertisementID=M.utm_medium?M.utm_medium:"",j.source=M.utm_source?M.utm_source:"",j.utm_details=M,n.props.getLtuCars(j),n.props.getPlpPropsCards((null===t||void 0===t?void 0:t.cityName)||"");else if(y){var k={carModelID:l,ltServiceCityId:t.lt_id,appVersion:I.ph,availabilityVariant:1==Object(v.K)()};n.props.clearLtSelectedStockModelPriceDataErr(),n.props.getSelectedStockModelPriceData(k)}else n.props.getGrapheneLtuCarsMakeAndModel(j);else if(d){Object(S.a)("UCT_PLP_Page_Select_City_ Dropdown",t.cityName.toLowerCase());var T="/buy-used-cars/".concat(t.cityName.toLowerCase(),"/list");n.props.onChangeLocation(T)}else if(location.pathname.includes("modify-search"))n.props.onChangeLocation("/modify-search");else if(location.pathname.includes("cars"))if(location.pathname.includes("hyundai-subscription")||location.pathname.includes("mahindra-subscription")||location.pathname.includes("airport")){var E=Object(v.f)(t);n.props.onChangeLocation(E)}else{var G=Object(v.ub)("/cars",t.cityName);n.props.onChangeLocation(G)}else if(location.pathname.includes("hyundai-subscription")||location.pathname.includes("car-subscription-near-me")||location.pathname.includes("mahindra-subscription")||location.pathname.includes("airport")){var R=Object(v.f)(t);n.props.onChangeLocation(R)}else if(!location.pathname.includes("rate-card-version")&&!sessionStorage.getItem("historyUrl")){var H=Object(v.ub)("/",t.cityName);n.props.onChangeLocation(H)}if(n.props.isErrorPage(!1),m||m&&u||h||location.pathname.includes("car-subscription-near-me")){var U=Object(v.f)(t);p&&(U+="?c_id=".concat(l)),n.props.onChangeLocation(U)}if(sessionStorage.getItem("historyUrl")){var F=sessionStorage.getItem("historyUrl");sessionStorage.removeItem("historyUrl"),F=F.replace("select_city",t.cityName.toLowerCase()),n.props.onChangeLocation(F)}n.__handleClose()},n.__handleClose=function(){n.props.mandateCityPopup(!0),sessionStorage.removeItem("historyUrl"),sessionStorage.removeItem("segmentForCityPopup"),n.props.mandatorySelectCity?Object(v.Lc)(n.props.address&&!n.props.mandatorySelectCity)&&(n.props.hideCityModal(),n.setState({open:!1}),Object(v.l)()):(n.props.hideCityModal(),n.setState({open:!1}),Object(v.l)()),sessionStorage.getItem("showPopupAfterSelection")&&(n.props.showExploreByMonthModal(),Object(v.Sc)("Home_car_widget_click_popup_LT",{refEvent:"Cityscreen_citytap_LT"},"",!0),sessionStorage.removeItem("showPopupAfterSelection"))};var c=(A=Object(v.Ab)().seoPopularCity?n.__getFilteredCities(Object(v.Ab)().oem):location.pathname.includes("buy-used-cars")?g.a.filter((function(e,t,a){return 1==e.uct})):location.pathname.includes("open")||n.props.isOpen?g.a.filter((function(e,t,a){return 1==e.open})):g.a).findIndex((function(e){return e.cityName==n.props.city}));return n.state={open:n.props.showCityModal,selectedCity:n.props.city,selectedCityIndex:c},n.__handleClose=n.__handleClose.bind(Object(s.a)(n)),n.__selectCity=n.__selectCity.bind(Object(s.a)(n)),n.__handleOpen=n.__handleOpen.bind(Object(s.a)(n)),n.__getFilteredCities=n.__getFilteredCities.bind(Object(s.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.setState({open:e.showCityModal}),e.showCityModal&&(location.pathname.includes("open")&&e.showCityModal&&Object(v.Sc)("Cityscreen_load_LT",{},null,!0),A=Object(v.Ab)().status?this.__getFilteredCities(Object(v.Ab)().oem):location.pathname.includes("buy-used-cars")?g.a.filter((function(e){return 1==e.uct})):location.pathname.includes("open")||e.isOpen?g.a.filter((function(e){return 1==e.open})):g.a,this.setState({selectedCityIndex:A.findIndex((function(e){return e.cityName==t.props.address}))})),e.showCityModal&&1==e.showCityModal&&e.showCityModal!=this.props.showCityModal&&Object(v.Sc)("Cityscreen_load",{refEvent:localStorage.getItem("eventFired"),refPage:location.pathname}),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),100),e.showCityModal?!(w&&location.pathname.includes("car-rental")&&location.pathname.split("/").length<4||w&&"/"===location.pathname)&&Object(v.k)():Object(v.l)()}},{key:"render",value:function(){var e=this,t=!1;t=!!this.props.mandatorySelectCity||!(Object(v.Lc)(this.props.address)||!this.props.mandatorySelectCity);var a=Object(M.jsx)("img",{src:"/assets/imgs/icons/checked-icon@2x.png",className:"scd-city-check-icon"}),o=!1,i="",n=Object(M.jsx)("h3",{onClick:function(){return e.__handleClose()},children:"Select City"});return Object(M.jsx)(d.a,{children:Object(M.jsxs)("div",{style:{width:"100%"},children:[void 0,Object(M.jsxs)(u.a,{title:n,titleStyle:{textAlign:"left",fontSize:16,fontWeight:500,fontFamily:"Rubik",color:"#384150",padding:"9px 15px",display:"flex",alignItems:"center"},titleClassName:"selectCityDialog",modal:t,className:"locationDialog",open:this.state.open,autoScrollBodyContent:!0,contentStyle:L,repositionOnUpdate:!1,onRequestClose:this.__handleClose,contentClassName:t?"contentDialog cityPopUpRemoveBackArrow":"contentDialog",style:{paddingTop:0},children:[Object(M.jsx)("h3",{className:"top-text",children:"Top Cities"}),Object(M.jsx)(y.a,{children:A.sort((function(e,t){return e.popular>t.popular?-1:0})).map((function(t,n){return o?i="":o||0!==t.popular||(i=Object(M.jsxs)("div",{children:[Object(M.jsx)("hr",{className:"divider"}),Object(M.jsx)("h3",{className:"top-text other-city",children:"Other Cities"})]}),o=!0),Object(M.jsxs)("div",{children:[i,Object(M.jsx)(b.a,{primaryText:t.cityName,className:n===e.state.selectedCityIndex?"cityListItem checked":0===t.popular||void 0==t.popular?"cityListItem nonPopular":"cityListItem",rightIcon:n===e.state.selectedCityIndex?a:"",onClick:function(a){return e.__selectCity(a,t,n)}})]})}))})]})]})})}}]),a}(l.Component);t.default=Object(O.c)((function(e){return{address:e.paramReducer?e.paramReducer.address:null,isOpen:!!e.paramReducer&&e.paramReducer.isOpen,mandatorySelectCity:!!e.utilReducer&&e.utilReducer.mandatory}}),(function(e){return Object(_.bindActionCreators)({selectLocation:f.md,getselectedTariffCity:f.fc,emptyGetGrapheneCarsAPI:f.Z,emptyGetLtuCarsAPI:f.ab,getLtuCars:f.Sb,getHyundaiCars:j.l,getGrapheneCars:f.Ob,getHyundaiCarModelVariants:j.k,getCarModelVariants:f.Lb,getNewCarDetails:f.Ub,getGrapheneCarsMakeAndModel:f.Pb,getGrapheneLtuCarsMakeAndModel:f.Qb,hyundaiOpenCarModels:j.o,clearLtSelectedStockModelPriceDataErr:f.B,getSelectedStockModelPriceData:f.ac,isErrorPage:f.pc,hideCityModal:f.ic,mandateCityPopup:f.Cc,getPlpPropsCards:f.Yb,showExploreByMonthModal:f.Hd},e)}))(P)}.call(this,a(71),a(53))},366:function(e,t,a){}}]);