(this.webpackJsonprevv_new=this.webpackJsonprevv_new||[]).push([[82],{1119:function(e,t,n){"use strict";n.r(t),function(e){var o=n(22),i=n(26),a=n(73),l=n(3),r=n(69),s=n(11),c=n(111),u=n(605),d=n(279),p=n.n(d),f=(n(525),n(16)),h=n(284),m=n.n(h),b=n(520),g=n(38),y=n(555),v=n(2);t.default=function(t){var n=t.openModal,d=t.__closePopUp,h=t._openIdProofModel,j=t.isOpenAndSubscriptionUrl,O=(Object(g.a)(),Object(l.useRef)()),x=Object(r.e)((function(e){return null===e||void 0===e?void 0:e.userReducer})).customerData,C=Object(r.e)((function(e){var t;return null===e||void 0===e||null===(t=e.userReducer)||void 0===t?void 0:t.customerData})),k=C.email,N=C.registeredBy,S=C.validationLevel,_=C.phoneNumber,T=Object(l.useState)(_||""),w=Object(a.a)(T,2),E=w[0],L=w[1],D=Object(l.useState)(""),W=Object(a.a)(D,2),P=W[0],A=W[1],I=Object(l.useState)({}),R=Object(a.a)(I,2),z=R[0],U=(R[1],Object(l.useState)(!1)),M=Object(a.a)(U,2),G=M[0],H=(M[1],Object(l.useState)(!1)),B=Object(a.a)(H,2),q=B[0],F=B[1],K=Object(l.useState)(!0),Z=Object(a.a)(K,2),J=Z[0],V=Z[1],$=Object(l.useState)(!0),X=Object(a.a)($,2),Y=X[0],Q=X[1],ee=/^[0-9]{10}$/,te=/^[A-Za-z']+( [A-Za-z']+)*$/,ne=(Object(s.f)(),Object(r.d)()),oe=!(!J&&!Y),ie=Object(f.U)(),ae=!e(null===ie||void 0===ie?void 0:ie.phoneNumber)||!e(_),le=function(){var t=Object(i.a)(Object(o.a)().mark((function t(){var n;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x||!x.email){t.next=8;break}return n={customerID:x.customerID,phoneNumber:E,name:P,accessToken:x.accessToken,isSocial:2===N||3===N?"true":"false",deviceType:"website",deviceName:"WEB",deviceToken:"revv_desktop",appVersion:"1.0"},e(ie)||(n.guestId=ie.customerID),F(!0),ne(Object(c.Xd)(!1)),t.next=7,ne(Object(c.Wc)(n));case 7:F(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){e(ie)&&2!==S||!n||!j?2===S&&n&&!j&&(d(),h()):d()}),[x]),Object(l.useEffect)((function(){e(_)||1!==S?e(ie)||1!==S||(L(ie.phoneNumber),Q(!1)):(L(_),Q(!1))}),[ae,E,x]);var re=function(){var t;d(),null===O||void 0===O||null===(t=O.current)||void 0===t||t.focus(),V(!0),Q(!0),L(""),e(ie)||A("")};return Object(v.jsx)(p.a,{children:Object(v.jsx)(m.a,{modal:!1,open:n,contentStyle:{width:"100%"},contentClassName:"login-details-content",repositionOnUpdate:!1,onRequestClose:d,style:{bottom:0,height:"unset",top:"0",paddingTop:"unset"},paperClassName:"login-details-paper",bodyClassName:"login-details-body",children:Object(v.jsxs)("div",{className:"login-wrapper  col-12",children:[Object(v.jsx)(y.a,{text:"Contact Details",_closePopUp:re}),Object(v.jsx)("div",{className:"sign-up-title-bar",children:"Contact Details"}),Object(v.jsx)("div",{className:"login-close-icon-wrapper",onClick:function(){re()},children:Object(v.jsx)("img",{className:"login-close-icon",src:"/imgs/feature_close.svg"})}),Object(v.jsxs)("div",{className:"mr-b-30 position-relative",children:[Object(v.jsx)("input",{ref:O,type:"text",name:"name",placeholder:"Enter your name",onChange:function(e){return(t=e.target.value)?t&&!t.match(te)?V("Enter a valid name"):V(""):V("Name should not be empty"),void A(t);var t},className:"login-input"}),J?Object(v.jsx)("div",{className:"error-text opt-err-msg position-absolute",children:J}):Object(v.jsx)("span",{})]}),Object(v.jsxs)("div",{className:"mr-b-30 position-relative",children:[Object(v.jsx)("input",{type:"text",name:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Enter phone number",onChange:function(e){return(t=e.target.value)?t&&!t.match(ee)?Q("Enter a 10 digit phone number"):Q(""):Q("Phone Number should not be empty"),void L(t);var t},className:"login-input",disabled:ae,value:E}),Y?Object(v.jsx)("div",{className:"error-text opt-err-msg position-absolute",children:Y}):Object(v.jsx)("span",{})]}),Object(v.jsx)("div",{className:"mr-b-30",children:Object(v.jsx)("input",{disabled:!0,type:"text",name:"email",value:k,placeholder:"Enter your email",className:"login-input"})}),q?Object(v.jsx)(b.a,{}):Object(v.jsx)("button",{className:"btn login-proceed",disabled:oe,onClick:le,children:"Proceed"}),G&&Object(v.jsx)(u.a,{isOpen:G,userData:z,_closePopup:re,_onClickGoogleLogin:onClickGoogleLogin,_onClickFbLogin:onClickFbLogin,_loginWithOTP:loginWithOTP})]})})})}}.call(this,n(53))},284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=n(295),a=(o=i)&&o.__esModule?o:{default:o};t.default=a.default},291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(271)),i=c(n(269)),a=c(n(270)),l=c(n(272)),r=c(n(273)),s=n(3);c(n(37));function c(e){return e&&e.__esModule?e:{default:e}}var u=null,d=0,p=function(e){function t(){var e,n,a,r;(0,i.default)(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=(0,l.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(c))),a.locked=!1,r=n,(0,l.default)(a,r)}return(0,r.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){!0===this.props.lock&&this.preventScrolling()}},{key:"componentWillReceiveProps",value:function(e){this.props.lock!==e.lock&&(e.lock?this.preventScrolling():this.allowScrolling())}},{key:"componentWillUnmount",value:function(){this.allowScrolling()}},{key:"preventScrolling",value:function(){if(!0!==this.locked&&(d+=1,this.locked=!0,1===d)){var e=document.getElementsByTagName("body")[0];u=e.style.overflow,e.style.overflow="hidden"}}},{key:"allowScrolling",value:function(){(!0===this.locked&&(d-=1,this.locked=!1),0===d&&null!==u)&&(document.getElementsByTagName("body")[0].style.overflow=u||"",u=null)}},{key:"render",value:function(){return null}}]),t}(s.Component);p.propTypes={},t.default=p},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=b(n(275)),i=b(n(276)),a=b(n(271)),l=b(n(269)),r=b(n(270)),s=b(n(272)),c=b(n(273)),u=b(n(274)),d=n(3),p=b(d),f=b(n(37)),h=b(n(277)),m=b(n(291));function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,l.default)(this,t),(0,s.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"setOpacity",value:function(e){this.refs.overlay.style.opacity=e}},{key:"render",value:function(){var e=this.props,t=e.autoLockScrolling,n=e.show,a=e.style,l=(e.transitionEnabled,(0,i.default)(e,["autoLockScrolling","show","style","transitionEnabled"])),r=this.context.muiTheme.prepareStyles,s=function(e,t){var n={root:{position:"fixed",height:"100%",width:"100%",top:0,left:"-100%",opacity:0,backgroundColor:t.muiTheme.overlay.backgroundColor,WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",willChange:"opacity",transform:"translateZ(0)",transition:e.transitionEnabled&&h.default.easeOut("0ms","left","400ms")+", "+h.default.easeOut("400ms","opacity")}};return e.show&&(0,u.default)(n.root,{left:0,opacity:1,transition:h.default.easeOut("0ms","left")+", "+h.default.easeOut("400ms","opacity")}),n}(this.props,this.context);return p.default.createElement("div",(0,o.default)({},l,{ref:"overlay",style:r((0,u.default)(s.root,a))}),t&&p.default.createElement(m.default,{lock:n}))}}]),t}(d.Component);g.defaultProps={autoLockScrolling:!0,style:{},transitionEnabled:!0},g.contextTypes={muiTheme:f.default.object.isRequired},g.propTypes={},t.default=g},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=x(n(275)),i=x(n(276)),a=x(n(271)),l=x(n(269)),r=x(n(270)),s=x(n(272)),c=x(n(273)),u=x(n(274)),d=n(3),p=x(d),f=x(n(37)),h=x(n(44)),m=x(n(288)),b=x(n(283)),g=x(n(277)),y=x(n(294)),v=x(n(298)),j=x(n(278)),O=x(n(315));function x(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){var e,n,o,i;(0,l.default)(this,t);for(var r=arguments.length,c=Array(r),u=0;u<r;u++)c[u]=arguments[u];return n=o=(0,s.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(c))),o.state={style:{}},i=n,(0,s.default)(o,i)}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.enterTimeout),clearTimeout(this.leaveTimeout)}},{key:"componentWillEnter",value:function(e){this.componentWillAppear(e)}},{key:"componentWillAppear",value:function(e){var t=this.context.muiTheme.baseTheme.spacing;this.setState({style:{opacity:1,transform:"translate(0, "+t.desktopKeylineIncrement+"px)"}}),this.enterTimeout=setTimeout(e,450)}},{key:"componentWillLeave",value:function(e){this.setState({style:{opacity:0,transform:"translate(0, 0)"}}),this.leaveTimeout=setTimeout(e,450)}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.children,a=(0,i.default)(e,["style","children"]),l=this.context.muiTheme.prepareStyles;return p.default.createElement("div",(0,o.default)({},a,{style:l((0,u.default)({},this.state.style,t))}),n)}}]),t}(d.Component);function k(e,t){var n=e.autoScrollBodyContent,o=e.open,i=t.muiTheme,a=i.baseTheme,l=a.spacing,r=a.palette,s=i.dialog,c=i.zIndex,u=l.desktopGutter,d="1px solid "+r.borderColor;return{root:{position:"fixed",boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:c.dialog,top:0,left:o?0:-1e4,width:"100%",height:"100%",transition:o?g.default.easeOut("0ms","left","0ms"):g.default.easeOut("0ms","left","450ms")},content:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",transition:g.default.easeOut(),position:"relative",width:"75%",maxWidth:12*l.desktopKeylineIncrement,margin:"0 auto",zIndex:c.dialog},actionsContainer:{boxSizing:"border-box",WebkitTapHighlightColor:"rgba(0,0,0,0)",padding:8,width:"100%",textAlign:"right",marginTop:n?-1:0},overlay:{zIndex:c.dialogOverlay},title:{margin:0,padding:u+"px "+u+"px 20px "+u+"px",color:r.textColor,fontSize:s.titleFontSize,lineHeight:"32px",fontWeight:400,marginBottom:n?-1:0},body:{fontSize:s.bodyFontSize,color:s.bodyColor,padding:(e.title?0:u)+"px "+u+"px "+u+"px",boxSizing:"border-box",overflowY:n?"auto":"hidden",borderTop:n?d:"none",borderBottom:n?d:"none"}}}C.contextTypes={muiTheme:f.default.object.isRequired},C.propTypes={};var N=function(e){function t(){var e,n,o,i;(0,l.default)(this,t);for(var r=arguments.length,c=Array(r),u=0;u<r;u++)c[u]=arguments[u];return n=o=(0,s.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(c))),o.handleClickOverlay=function(){o.requestClose(!1)},o.handleKeyUp=function(e){"esc"===(0,b.default)(e)&&o.requestClose(!1)},o.handleResize=function(){o.positionDialog()},i=n,(0,s.default)(o,i)}return(0,c.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.positionDialog()}},{key:"componentDidUpdate",value:function(){this.positionDialog()}},{key:"positionDialog",value:function(){var e=this.props,t=e.actions,n=e.autoDetectWindowHeight,o=e.autoScrollBodyContent,i=e.bodyStyle,a=e.open,l=e.repositionOnUpdate,r=e.title;if(a){var s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=h.default.findDOMNode(this),d=h.default.findDOMNode(this.refs.dialogWindow),f=h.default.findDOMNode(this.refs.dialogContent);d.style.height="",f.style.height="";var m=d.offsetHeight,b=(s-m)/2-64;if(b<16&&(b=16),!l&&c.style.paddingTop||(c.style.paddingTop=b+"px"),n||o){var g=k(this.props,this.context);g.body=(0,u.default)(g.body,i);var y=s-128;r&&(y-=f.previousSibling.offsetHeight),p.default.Children.count(t)&&(y-=f.nextSibling.offsetHeight),f.style.maxHeight=y+"px",y>m&&(f.style.borderBottom="none",f.style.borderTop="none")}}}},{key:"requestClose",value:function(e){!e&&this.props.modal||this.props.onRequestClose&&this.props.onRequestClose(!!e)}},{key:"render",value:function(){var e=this.props,t=e.actions,n=e.actionsContainerClassName,i=e.actionsContainerStyle,a=e.bodyClassName,l=e.bodyStyle,r=e.children,s=e.className,c=e.contentClassName,d=e.contentStyle,f=e.overlayClassName,h=e.overlayStyle,b=e.open,g=e.paperClassName,v=e.paperProps,x=e.style,N=e.titleClassName,S=e.titleStyle,_=e.title,T=this.context.muiTheme.prepareStyles,w=k(this.props,this.context);w.root=(0,u.default)(w.root,x),w.content=(0,u.default)(w.content,d),w.body=(0,u.default)(w.body,l),w.actionsContainer=(0,u.default)(w.actionsContainer,i),w.overlay=(0,u.default)(w.overlay,h),w.title=(0,u.default)(w.title,S);var E=p.default.Children.count(t)>0&&p.default.createElement("div",{className:n,style:T(w.actionsContainer)},p.default.Children.toArray(t)),L=_;return p.default.isValidElement(_)?L=p.default.cloneElement(_,{className:_.props.className||N,style:T((0,u.default)(w.title,_.props.style))}):"string"===typeof _&&(L=p.default.createElement("h3",{className:N,style:T(w.title)},_)),p.default.createElement("div",{className:s,style:T(w.root)},b&&p.default.createElement(m.default,{target:"window",onKeyUp:this.handleKeyUp,onResize:this.handleResize}),p.default.createElement(O.default,{component:"div",ref:"dialogWindow",transitionAppear:!0,transitionAppearTimeout:450,transitionEnter:!0,transitionEnterTimeout:450},b&&p.default.createElement(C,{className:c,style:w.content},p.default.createElement(j.default,(0,o.default)({className:g,zDepth:4},v),L,p.default.createElement("div",{ref:"dialogContent",className:a,style:T(w.body)},r),E))),p.default.createElement(y.default,{show:b,className:f,style:w.overlay,onClick:this.handleClickOverlay}))}}]),t}(d.Component);N.contextTypes={muiTheme:f.default.object.isRequired},N.propTypes={};var S=function(e){function t(){var e,n,o,i;(0,l.default)(this,t);for(var r=arguments.length,c=Array(r),u=0;u<r;u++)c[u]=arguments[u];return n=o=(0,s.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(c))),o.renderLayer=function(){return p.default.createElement(N,o.props)},i=n,(0,s.default)(o,i)}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return p.default.createElement(v.default,{render:this.renderLayer,open:!0,useLayerForClickAway:!1})}}]),t}(d.Component);S.contextTypes={muiTheme:f.default.object.isRequired},S.defaultProps={autoDetectWindowHeight:!0,autoScrollBodyContent:!1,modal:!1,repositionOnUpdate:!0},S.propTypes={},t.default=S},449:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c}));var o={SOCIAL:411,SUCCESS:200,FB:531,GOOGLE:532,ERROR:500,LOGIN_WITH_PASSWORD:409},i=30,a=4,l="Didn\u2019t get the code?",r="Otp sent successfully",s="Didn\u2019t get the password?",c="Password sent successfully"},520:function(e,t,n){"use strict";n(3),n(525);var o=n(2);t.a=function(e,t){return Object(o.jsxs)("button",{className:"btn login-proceed",disabled:!0,children:[" ",Object(o.jsx)("div",{className:"loading-spinner",children:" "})," "]})}},525:function(e,t,n){},555:function(e,t,n){"use strict";var o=n(3),i=n(2),a=function(e){var t=e.text,n=e._closePopUp;return Object(i.jsx)("div",{className:"d-desktop-none",style:{height:60,backgroundImage:"linear-gradient(to left, #1caba2, #1c7fab)",backgroundColor:"#ffffff",boxShadow:"none",color:"#000000",padding:"10px 15px",position:"fixed",width:"100%",left:0,top:0},children:Object(i.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"left",alignItems:"center"},children:Object(i.jsxs)("div",{style:{background:"white !important",color:"black"},className:"navbar-brand sm-navbar",children:[Object(i.jsx)("img",{onClick:function(){n()},src:"/imgs/ic-back.svg",style:{paddingRight:20,height:24,paddingLeft:5}}),Object(i.jsx)("span",{style:{color:"#fff",fontFamily:"Poppins",fontSize:16,fontWeight:600},children:t})]})})})};t.a=Object(o.memo)(a)},565:function(e,t,n){},605:function(e,t,n){"use strict";var o=n(3),i=n(284),a=n.n(i),l=(n(565),n(449)),r=n(16),s=n(2),c=function(e){var t=e.isOpen,n=e._closePopup,o=e.userData,i=e._onClickGoogleLogin,c=e._onClickFbLogin,u=e._loginWithOTP,d=e._openSignUp,p=o.msg,f=o.statusCode,h=function(){n()};return Object(s.jsxs)(a.a,{modal:!1,open:t,contentStyle:{width:"100%"},contentClassName:"login-error-details-content",repositionOnUpdate:!1,onRequestClose:h,style:{bottom:0,height:"unset",top:"unset",paddingTop:"unset"},paperClassName:"login-error-details-paper",bodyClassName:f===l.g.SOCIAL?"login-error-details-body-411":"login-error-details-body ",children:[Object(s.jsx)("div",{className:"error-title",children:f===l.g.GOOGLE?"Continue through Google?":f===l.g.FB?"Continue through facebook?":"Email not found"}),Object(s.jsx)("div",{className:"error-msg",children:f===l.g.GOOGLE||f===l.g.SOCIAL?p:"This email ID is signed up through facebook, continue through facebook"}),Object(s.jsxs)("div",{className:"row",style:{textAlign:"center"},children:[Object(s.jsx)("div",{className:"pd-r-5 justify-content-center "+(f===l.g.SOCIAL?"col-6":"col-5"),children:f===l.g.SOCIAL?Object(s.jsx)("button",{className:"btn err-disable-btn",onClick:h,children:"Cancel"}):Object(s.jsx)("button",{className:"btn err-disable-btn",onClick:function(){Object(r.Sc)("login_OTP_load"),u(f)},children:"Login with OTP"})}),Object(s.jsxs)("div",{className:"pd-l-5 justify-content-center "+(f===l.g.SOCIAL?"col-6":"col-7"),children:[f===l.g.GOOGLE&&Object(s.jsx)("button",{className:"btn err-sign-up-btn",onClick:function(){i()},children:"Continue with Google"}),f===l.g.FB&&Object(s.jsx)("button",{className:"btn err-sign-up-btn",onClick:function(){c()},children:"Continue with Facebook"}),f===l.g.SOCIAL&&Object(s.jsx)("button",{className:"btn err-sign-up-btn",onClick:function(){d()},children:"Sign up"})]})]})]})};t.a=Object(o.memo)(c)}}]);